<html><head><title>帮助</title></head>
<body>
<center>
<table width=780 border=0 cellpadding=3 cellspacing=0>
<tr><td style='line-height:150%;font-size:16px;text-indent: 20'>
<p><a href="readme.htm">返回</a></p>


<p align=center><b>第八章 日月食原理</b></p>
<p><b>一、月食</b></p>
<p>月球被地影全部或部分遮掩的现象称为月食。当日月黄经相差180度(或附近)才可能发生月食。所以月食一般都发生在望日附近，即农历十五或十六日，这时地球运动至太阳和月球之间。
在月球轨道处，地球本影的直径比较大，是月球的2.5倍左右，月球常常被地球本影全部遮住，称为月全食。当月球始终只有部分被地球本影遮住时，这种天象称为月偏食。
如果月球进入半影区域，太阳的光也可以被遮掩掉一些，这种现象在天文上称为半影月食，不过月亮在半影区仍然很明亮，肉眼很难分辨。
</p>
<img src="img/a002.gif">
<p><b>月食过程基本描述</b></p>
<p>月食-月食的过程<br>
半影食始：月球刚刚和半影区接触，这时肉眼觉察不到。<br>
初亏：月食开始。月球由东缘慢慢进入地影，月球与地球本影第一次外切。<br>
食既：月球的西边缘与地球本影的西边缘内切，月球刚好全部进入地球本影内。<br> 
食甚：月球的中心与地球本影的中心最近。 <br>
生光：月球东边缘与地球本影东边缘相内切，这时全食阶段结束。<br>
复圆：月球的西边缘与地球本影东边缘相外切，这时月食全过程结束。<br>
月球被食的程度叫“食分”，它等于食甚时月轮边缘深入地球本影最远距离与月球视经之比。<br>
半影食终：月球离开半影，整个月食过程正式完结。
</p>
<p><b>寿星月食算法</b></p>
<p>1、算出t时刻太阳、月亮的当日平春分点地心黄道视坐标(当然也可以旋转到赤道坐标)。只要日月使用统一的坐标就可以了，使用真分点或平分点的黄道或赤道坐标均可。</p>
<p>2、根据上图中的侧视图计算出t时刻本影及半影在距离地心d处的垂直于影轴的圆半径，d为此刻地月质心距。本影半径记为er，半影半径记为Er，月球视地心视半径记为mr。计算月食，实际上就是计算月亮被照的情况，不会因为观测者的位置改变而改变天象事实，所以与观测者的视差无关。计算方法如下：</p>
<p>设t时刻日地质心距为D，地球平均半径为r，太阳半径为R，那么由平面几何知识易得：er = r - (R-r)/D*d。天文计算时，习惯使用角度表达半径(视差法表示)，那么可以除以d，得到：</p>
<p><b><font color=red>er = r/d - (R-r)/D，同理得到，Er = r/d + (R+r)/D</font></b></p>
<p>由于地球大气的影响，er和Er实际值比以上计算值要大百分2，所以结果取er=1.02*er，Er=1.02*Er；r取值为地球平均半径，即赤道半径的(1-1/298.25642/2)=0.99834，所以r=0.99834*6378.14千米；d的单位是千米；(R-r)/D实际上非常接近于：太阳视半径 - 太阳的地球赤道视差，所以R取值959.63角秒,r取8.794角秒,那么D使用天文单位。</p>
<p>t时刻月亮视半径的计算：<b><font color=red>mr = 358473400/d，单位是角秒。</font></b></p>
<p>3、根据上图中的侧视图计算出本影、半影中心坐标：t时刻太阳坐标相反的方向，即经度=太阳经度+180度，纬度=-太阳纬度，本(半)影中心到地心的距离 = t时刻地月质心距 = d千米。</p>
<p>4、t时刻影子中心与月球中心的距离计算：</p>
<p>t时刻月球坐标记为(J1,W1,d)，影子中心坐标为(J2,W2,d)，接下来计算出月球中心与地影中心的经度差和纬度差dJ和dW：<font color=red><b>dJ = J1-J2，dW = W1-W2</b></font></p>
<p>月食发生时，地影与月球相距很近，在地影与月影附近的区域可看作一个小平面，不必看做球面。该平面是天球在地影中心与月球中心连线的中心的天球切面。在这个小切面上创建一个临时坐标：x轴垂直于经线，y轴平行于纬线，原点建在地影中心。那么月心坐标为：<font color=red><b>x = dJ*cos( (W1+W2)/2 )，y = dW，单位统一使用弧度制。</b></font>地影中心与月球中心角距离为<font color=red><b>pr = sqrt(x*x+y*y)，结果是弧度，sqrt是开方函数， </b></font></p>
<p>5、用图表即时表示出半影、本影、月球的位置关系（如上图中的正视图），并结合半径的数值显示，即可直观的找出初亏、食甚等关键数据。你先利用寿星万年历进行人工查找初亏、食甚，就可快速理解日月食的计算原理，那么只要你有一定的编程基础，就可迅速编制计算自动计算月食的计算机程序。寿星万年历中使用迭代法计算日月食甚。</p>

</td></tr>
</table>
</center>
</body></html>
